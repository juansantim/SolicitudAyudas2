<ng-template #customItemTemplate let-model="item" let-index="index">
    <label>{{model.nombre}}</label>
</ng-template>

<app-loading [show]="isLoading()"></app-loading>

<fieldset>
    <legend>Datos del solicitante</legend>
    <div class="row">
        <div class="col-md-4">
            <label>Cedula Solicitante</label>
            <input type="text" class="form-control" mask="000-0000000-0">
        </div>
        <div class="col-md-4">
            <label>Nombre Completo</label>
            <input type="text" class="form-control">
        </div>
        <div class="col-md-2">
            <label>Fecha Nacimiento</label>
            <input class="form-control" bsDatepicker>
        </div>
        <div class="col-md-2">
            <label>Sexo</label>
            <select class="form-control">
                <option>--Seleccione--</option>
                <option>Femenino</option>
                <option>Masculino</option>
            </select>
        </div>

    
  
    </div>
</fieldset>
<div class="row">
    <div class="col-md-12">
        <label>Seccional</label>
        <!-- <input [(ngModel)]="selectedSeccioan" [typeahead]="seccionales"class="form-control"> -->
        <div>
            <input class="form-control" [(ngModel)]="selected" [typeahead]="seccionales" [adaptivePosition]="true"
                [typeaheadItemTemplate]="customItemTemplate" typeaheadOptionField="nombre"
                (typeaheadOnSelect)="typeaheadOnSelect($event)" [disabled]="selectedSeccional">

            <button class="btn btn-danger" *ngIf="selectedSeccional" (click)="removerSeccional()">Remover</button>
        </div>

    </div>
</div>
<div class="row">
    <div class="col-md-6">
        <label>Tipo de Ayuda</label>
        <select class="form-control" [(ngModel)]="TipoDeAyuda" (change) = "onChangeTipoSolicitud($event.target.value)">
            <option value="0">--Seleccione--</option>
            <option *ngFor="let s of tiposSolicitudes" value="{{s.id}}">{{s.nombre}}</option>
        </select>
    </div>
    <div class="col-md-6">
        <label>Monto De la Ayuda</label>
        <input style="color: blue;font-weight: bold;" type="text" class="form-control" mask="separator.2"
            thousandSeparator=",">
    </div>
</div>

<fieldset>
    <legend>Datos de Contacto</legend>
    <div class="row">
        <div class="col-md-2">
            <label>Telefono Celular</label>
            <input type="text" class="form-control" mask="000-000-0000">
        </div>
        <div class="col-md-2">
            <label>Telefono Residencial</label>
            <input type="text" class="form-control" mask="000-000-0000">
        </div>
        <div class="col-md-2">
            <label>Telefono Laboral</label>
            <input type="text" class="form-control" mask="000-000-0000">
        </div>
        <div class="col-md-4">
            <label>Correo Electr√≥nico</label>
            <input class="form-control">
        </div>   
    </div>
    <div class="row">
        <div class="col-md-12">
            <label>Direccion</label>
            <textarea class="form-control" cols="2"></textarea>
        </div>
  
    </div>
</fieldset>


<div class="row">
  
</div>

<div class="row">
    <div class="col-md-6">

        <fieldset>
            <legend>Requisitos</legend>

           <div class="row" *ngFor="let r of RequisitosSolicitud">
               <div class="col-md-12" *ngIf="r.values.length == 0">
                <label>
                    <input type="checkbox" [(ngModel)] = "r.checked">
                    {{r.nombre}}
                </label>
               </div>

               <div class="col-md-12" *ngIf="r.values.length > 0">
                <label>
                    <label>{{r.nombre}}</label>
                    <select class="form-control">
                        <option>--seleccione-</option>
                        <option *ngFor="let o of r.values" value="{{o}}">{{o}}</option>
                    </select>
                </label>
               </div>
         
            <br>
           </div>

            <div class="row">
                <div class="col-md-12">
                    <label>Quien recibira ayuda?</label>
                    <select class="form-control" [(ngModel)]="Solicitud.ayudapara">
                        <option value="0">--Seleccione--</option>
                        <option value="1">El Solicitante</option>
                        <option value="2">Hijo/Hija</option>
                        <option value="3">Padre/Madre</option>
                        <option value="4">Conyuge o Esposa/Esposo</option>
                    </select>
                </div>
            </div>
            <div class="row" *ngIf="Solicitud.ayudapara == 2">
                <div class="col-md-12">
                    <label>
                        <input type="checkbox">
                        Acta de Nacimiento de Hijo/Hija
                    </label>
                </div>
            </div>
            <div class="row" *ngIf="Solicitud.ayudapara == 3">
                <div class="col-md-12">
                    <label>
                        <input type="checkbox">
                        Copia cedula de padra/madre
                    </label>
                </div>
            </div>
            <div class="row" *ngIf="Solicitud.ayudapara == 4">
                <div class="col-md-12">
                    <label>
                        <input type="checkbox">
                        Acta de matrimonio/union libre
                    </label>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <label>
                        Solicitante es jubilado de Inabima?
                    </label>
                    <br>
                    <label>
                        Si
                        <input type="radio" value="true" name="inabima" [(ngModel)]="Solicitud.esjubiladoinabima">
                    </label>
                    &nbsp;
                    <label>
                        No
                        <input type="radio" value="false" name="inabima" [(ngModel)]="Solicitud.esjubiladoinabima">
                    </label>


                </div>
            </div>

            <div class="row" *ngIf="esJubiladoInabima()">
                <div class="col-md-12">
                    <label>
                        <input type="checkbox">
                        Estado de cuenta Jubilado de Inabima-Hacienda
                    </label>
                </div>
            </div>
        </fieldset>

    </div>
    <div class="col-md-6">
        <fieldset>
            <legend>Archivos Adjuntos</legend>
            <ul>
                <li *ngFor="let file of Solicitud.adjuntos"></li>
            </ul>
           <app-file-uploader></app-file-uploader>
        </fieldset>
    </div>
</div>


<fieldset>
    <legend>Motivo de la Solicitud</legend>
    <textarea class="form-control" rows="4"></textarea>
    <br>
</fieldset>

<div class="row">
    <div class="col-md-12">
        <div class=" pull-right">
            <input type="button" class="btn btn-success" value="Registrar Solicitud" (click)="registrarSolicitud()">
        </div>
    </div>
</div>