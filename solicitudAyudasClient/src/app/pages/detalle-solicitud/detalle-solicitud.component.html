<div *ngIf="cargandoSolicitud">
    <app-loading [show] = "true"></app-loading>
</div>
<div *ngIf="!cargandoSolicitud">
    <h1>SOLICITUD # {{solicitud.numeroExpediente}}
        <app-estado-solicitud *ngIf="solicitud.estadoId" [estadoId] = "solicitud.estadoId"  [nombre] = "solicitud.estado" ></app-estado-solicitud>
    </h1>
    <fieldset>
        <legend>DATOS DE SOLICITANTE</legend>
        <div class="row">
            <div class="col">
                <label class="encabezado">Cedula</label>
                <h4 class="dato">{{solicitud.cedulaSolicitante}}</h4>
            </div>
            <div class="col">
                <label class="encabezado"> Nombre Completo </label>
                <h4 class="dato">{{solicitud.nombreSolicitante}}</h4>
            </div>
            <div class="col">
                <label class="encabezado"> Sexo </label>
                <h4 class="dato">{{solicitud.sexoSolicitante}}</h4>
            </div>
            <div class="col">
                <label class="encabezado"> Edad </label>
                <h4 class="dato">{{solicitud.edad}}</h4>
            </div>
            <div class="col">
                <label class="encabezado"> Email </label>
                <h4 class="dato">{{solicitud.email}}</h4>
            </div>
        </div>    
        <div class="row">
            <div class="col">
                <label class="encabezado">Seccional</label>
                <h4 class="dato">{{solicitud.seccional}}</h4>
            </div>
            <div class="col">
                <label class="encabezado"> Cargo </label>
                <h4 class="dato">{{solicitud.cargo}}</h4>
            </div>        
        </div> 
        <div class="row">
            <div class="col">
                <label class="encabezado">Tipo Solicitud</label>
                <h4 class="dato">{{solicitud.tipoSolicitud}}</h4>
            </div>
            <div class="col">
                <label class="encabezado"> Monto Solicitado </label>
                <h4 class="dato">{{solicitud.montoSolicitado | currency}}</h4>
            </div>
            <div class="col">
                <label class="encabezado"> Monto Aprobado </label>
                <h4 class="dato">{{solicitud.montoAprobado? solicitud.montoAprobado : 0 | currency}}</h4>
            </div>
        
        </div> 

    </fieldset>
    

</div>

<fieldset>
    <legend>Requisitos</legend>
    <div class="row">
        <div class="col">
          <ul>
              <li *ngFor="let r of solicitud.requisitos">
                {{r.nombre}} | <label class="badge badge-primary"> {{ getValorRequisito(r)}}</label>
              </li>
          </ul>  
        </div>
        <div class="col">
            <ul>
                
                <li *ngFor="let r of solicitud.adjuntos">
                    <!-- {{r | json}} -->
                  <app-downloable-file [fileId] ="r.id" 
                  [fileName] = "r.displayName" 
                  [fileSize] = "r.sizeMB" 
                  [contentType] = "r.contentType"></app-downloable-file>
                </li>
            </ul>  
        </div>
    </div>
</fieldset>

<fieldset>
    <legend>Comisión de aprobación:</legend>

    <div class="row" style="font-weight: bold;">
        <div class="col borde">Miembro</div>
        <div class="col borde">Estado</div>
        <div class="col borde">Fecha</div>
        <div class="col borde">Comentario</div>
    </div>
    <div class="row" *ngFor="let m of solicitud.datosAprobacion">
        <div class="col unerlined">
            {{m.usuario}}
        </div>
        <div class="col unerlined">
            <app-estado-solicitud *ngIf="m" [estadoId] = "m.estadoId" [nombre] = "m.estado"></app-estado-solicitud>
        </div>
        <div class="col unerlined">
             {{m.fecha |date: 'dd/MM/yyyy hh:mm a'}}
        </div>
        <div class="col unerlined">
            {{m.comentario}}
        </div>
    </div>
</fieldset>

<app-acciones *ngIf="solicitud.tipoSolicitudId" 
[tipoSolicitudAyuda] = "solicitud.tipoSolicitudId"
[solicitudId]= "solicitud.id"
[procesado]="solicitud.procesadaPorUsuario"
></app-acciones>

<!-- 
{{solicitud | json}} -->
